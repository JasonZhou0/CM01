Import('env')
import os

WorkSpacePath = env['WorkSpace']
length = len(WorkSpacePath)
SourcePath = os.getcwd()[length:]
TargetBasePath  = WorkSpacePath+env['TargetPath']+SourcePath
File = {}
def CheckFile(BasePath,SourcePath):
   return {BasePath+'\\'+SourcePath[:-2]:SourcePath}
   
# ************BOOT_objects************
if env['BUILD'] == 'bootloader':
   File.update(CheckFile(TargetBasePath,'main.c'))

# ************APP_objects************
elif env['BUILD'] == 'application':
   File.update(CheckFile(TargetBasePath,'main.c'))
   
# ************OutPut************
objects = []
for key,value in File.items():
   objects += env.Object(target = key, source = value)

Return('objects')